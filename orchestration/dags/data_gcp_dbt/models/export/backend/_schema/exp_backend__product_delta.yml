version: 2

models:
  - name: exp_backend__product_delta
    description: "{{ doc('description__product_delta') }}"
    columns:

      - name: ean
        description: "{{ doc('column__ean') }}"
        tests:
          - not_null:
              tags: ['critical']
          - unique:
              tags: ['critical']

      - name: titre
        description: "{{ doc('column__titre') }}"
        tests:
          - not_null:
              tags: ['critical']

      - name: resume
        description: "{{ doc('column__resume') }}"

      - name: codesupport
        description: "{{ doc('column__codesupport') }}"
        tests:
          - not_null:
              tags: ['critical']

      - name: dateparution
        description: "{{ doc('column__dateparution') }}"

      - name: editeur
        description: "{{ doc('column__editeur') }}"

      - name: langueiso
        description: "{{ doc('column__langueiso') }}"

      - name: taux_tva
        description: "{{ doc('column__taux_tva') }}"

      - name: prix
        description: "{{ doc('column__prix') }}"

      - name: id_lectorat
        description: "{{ doc('column__id_lectorat') }}"

      - name: gtl
        description: "{{ doc('column__gtl') }}"

      - name: auteurs_multi
        description: "{{ doc('column__auteurs_multi') }}"

      - name: recto_uuid
        description: "{{ doc('column__recto_uuid') }}"

      - name: verso_image_uuid
        description: "{{ doc('column__verso_image_uuid') }}"

      - name: product_modification_date
        description: "{{ doc('column__product_modification_date') }}"
        tests:
          - not_null

      - name: action
        description: "{{ doc('column__backend_crud_action') }}"
        tests:
          - not_null:
              tags: ['critical']
          - accepted_values:
              values: ['add', 'update']
              tags: ['critical']
