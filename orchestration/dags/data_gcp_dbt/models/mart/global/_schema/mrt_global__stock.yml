version: 2
models:
  - name: mrt_global__stock
    description:  '{{ doc("description__mrt_global__stock") }}'
    columns:
      - name: stock_id
        description: '{{ doc("column__stock_id") }}'
        data_tests:
          - not_null
          - unique
      - name: stock_beginning_date
        description: '{{ doc("column__stock_beginning_date") }}'
      - name: stock_last_provider_id
        description: '{{ doc("column__stock_last_provider_id") }}'
      - name: stock_booking_limit_date
        description: '{{ doc("column__stock_booking_limit_date") }}'
      - name: stock_creation_date
        description: '{{ doc("column__stock_creation_date") }}'
      - name: stock_features
        description: '{{ doc("column__stock_features") }}'
      - name: stock_price
        description: '{{ doc("column__stock_price") }}'
      - name: stock_quantity
        description: '{{ doc("column__stock_quantity") }}'
      - name: total_available_stock
        description: '{{ doc("column__total_available_stock") }}'
      - name: total_cancelled_bookings
        description: '{{ doc("column__total_cancelled_bookings") }}'
      - name: total_non_cancelled_bookings
        description: '{{ doc("column__total_non_cancelled_bookings") }}'
      - name: total_paid_bookings
        description: '{{ doc("column__total_paid_bookings") }}'
      - name: total_bookings
        description: '{{ doc("column__total_bookings") }}'
      - name: offer_id
        description: '{{ doc("column__offer_id") }}'
        data_tests:
          - not_null
      - name: offer_name
        description: '{{ doc("column__offer_name") }}'
      - name: offer_subcategory_id
        description: '{{ doc("column__offer_subcategory_id") }}'
      - name: offerer_id
        description: '{{ doc("column__offerer_id") }}'
        data_tests:
          - not_null
      - name: partner_id
        description: '{{ doc("column__partner_id") }}'
        # failed : investigation
        # data_tests:
        #   - not_null
      - name: price_category_id
        description: '{{ doc("column__price_category_id") }}'
      - name: price_category_label
        description: '{{ doc("column__price_category_label") }}'
      - name: price_category_label_id
        description: '{{ doc("column__price_category_label_id") }}'
      - name: venue_department_code
        description: '{{ doc("column__venue_department_code") }}'
      - name: offerer_is_epn
        description: "{{ doc('column__offerer_is_epn') }}"
        data_type: BOOLEAN
      - name: booking_email
        description: "{{ doc('column__booking_email') }}"
      - name: booking_contact
        description: "{{ doc('column__booking_contact') }}"
